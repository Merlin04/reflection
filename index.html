<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Reflection bootstrapper</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <script type="module">
        import localforage from "./_localforage/localforage.jsm";

        void async function() {
            // Sometimes chrome will just ignore the service worker, so auto reload the page
            if((await localforage.keys()).length > 0 && (await navigator.serviceWorker.getRegistrations()).length > 0) {
                window.location.reload();
            }

            const image = (await import("/image.jsm")).default;
            let exports;
            eval(image["_loadESString.fragment.js"]);
            exports(image["_bootstrapEntrypoint.jsm"]).then(module => module.default(image));
        }();
    </script>
</head>
<body>
    <h1>Bootstrapping...</h1>
    <p>Not working? Try using Chrome</p>
</body>
</html>